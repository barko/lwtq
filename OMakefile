USE_OCAMLFIND = true
OCAMLPACKS[] = lwt.unix lwt.syntax lwt 

NATIVE_ENABLED = true
BYTE_ENABLED = true

OCAMLFINDFLAGS += -syntax camlp4o
OCAMLFLAGS  += -dtypes 

FILES[] = lwt_queue lwt_sema lwt_misc
LIB = lwtq

OCAML_LIBS = lwtq

.DEFAULT: \
  $(OCamlLibrary $(LIB), $(FILES))  \
  $(OCamlProgram test_queue, test_queue ) \
  $(OCamlProgram test_sema, test_sema ) \
  $(OCamlProgram test_iter, test_iter ) 

.PHONY:  clean

clean:
   rm -f $(filter-proper-targets $(ls R, .)) *.s *.annot